name: visible-ecs-deployment

# Build step - no build needed for this simple case
build: null

# Push step - upload to S3
push:
  - prefect_aws.deployments.steps.push_to_s3:
      bucket: gellc-prefect-flows
      folder: flows
      credentials: null

# Pull step - download from S3 in ECS
pull:
  - prefect_aws.deployments.steps.pull_from_s3:
      bucket: gellc-prefect-flows  
      folder: flows
      credentials: null
  - prefect.deployments.steps.set_working_directory:
      directory: "."

# Deployment configuration
deployments:
  - name: visible-ecs-deployment
    version: "1.0.0"
    tags: ["visible", "ecs", "s3", "working"]
    description: "Visible ECS deployment using S3 storage"
    entrypoint: simple_ecs_flow.py:hello_flow
    work_pool:
      name: gellc-ecs-pool
      work_queue_name: default
    parameters:
      name: "ECS World"
    schedules: []
